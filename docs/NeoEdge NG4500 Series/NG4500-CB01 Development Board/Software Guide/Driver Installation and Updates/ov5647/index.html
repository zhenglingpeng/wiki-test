<!doctype html>
<html lang="en-US" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-NeoEdge NG4500 Series/NG4500-CB01 Development Board/Software Guide/Driver Installation and Updates/ov5647" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.6.1">
<title data-rh="true">OV5647 Camera Module Adaptation Guide | CamThink</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://zhenglingpeng.github.io/wiki-test/img/Camthink-logo.png"><meta data-rh="true" name="twitter:image" content="https://zhenglingpeng.github.io/wiki-test/img/Camthink-logo.png"><meta data-rh="true" property="og:url" content="https://zhenglingpeng.github.io/wiki-test/docs/NeoEdge NG4500 Series/NG4500-CB01 Development Board/Software Guide/Driver Installation and Updates/ov5647"><meta data-rh="true" property="og:locale" content="en_US"><meta data-rh="true" property="og:locale:alternate" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="OV5647 Camera Module Adaptation Guide | CamThink"><meta data-rh="true" name="description" content="This guide uses the OV5647 camera module as an example to detail the development and adaptation process on the NG4520 platform, covering hardware preparation, device tree configuration, driver compilation, system loading, and debugging steps."><meta data-rh="true" property="og:description" content="This guide uses the OV5647 camera module as an example to detail the development and adaptation process on the NG4520 platform, covering hardware preparation, device tree configuration, driver compilation, system loading, and debugging steps."><link data-rh="true" rel="icon" href="/wiki-test/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://zhenglingpeng.github.io/wiki-test/docs/NeoEdge NG4500 Series/NG4500-CB01 Development Board/Software Guide/Driver Installation and Updates/ov5647"><link data-rh="true" rel="alternate" href="https://zhenglingpeng.github.io/wiki-test/zh-Hans/docs/NeoEdge NG4500 Series/NG4500-CB01 Development Board/Software Guide/Driver Installation and Updates/ov5647" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://zhenglingpeng.github.io/wiki-test/docs/NeoEdge NG4500 Series/NG4500-CB01 Development Board/Software Guide/Driver Installation and Updates/ov5647" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://zhenglingpeng.github.io/wiki-test/docs/NeoEdge NG4500 Series/NG4500-CB01 Development Board/Software Guide/Driver Installation and Updates/ov5647" hreflang="x-default"><link rel="stylesheet" href="/wiki-test/assets/css/styles.28a4a17e.css">
<script src="/wiki-test/assets/js/runtime~main.6899d230.js" defer="defer"></script>
<script src="/wiki-test/assets/js/main.88551790.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="color:#091E42" role="banner"><div class="content_knG7 announcementBarContent_xLdY"><div class="announcement-bar">
    <div class="announcement-content">
        <div class="announcement-carousel">
            <div class="announcement-track">
                <div class="announcement-text">
                <b>
              üéâNE301 Launch! Pre-order Now ‚Äì Save 20% Until Nov 14. Ship in Dec.
               <a href="https://www.camthink.ai/store/ne301" target="_blank" class="announcement-link">
          üëâ Learn More
                </a>
              </b>
                </div>
               <div class="announcement-text">
                <b>
             Enjoy 40% off the upgraded Neoeyes NE101! Complete the form to get yours for $39.9.
              <a href="https://near.tl/sm/uCT0JnK9e" target="_blank" class="announcement-link">
          üëâ Learn More
                </a>
              </b>
                </div>
                <!-- ÈáçÂ§ç‰∏Ä‰ªΩ Êó†ÁºùÂæ™ÁéØ -->
                  <div class="announcement-text">
                <b>
              üéâNE301 Launch! Pre-order Now ‚Äì Save 20% Until Nov 14. Ship in Dec.
               <a href="https://www.camthink.ai/store/ne301" target="_blank" class="announcement-link">
          üëâ Learn More
                </a>
              </b>
                </div>
                 <div class="announcement-text">
                <b>
             Enjoy 40% off the upgraded Neoeyes NE101! Complete the form to get yours for $39.9.
              <a href="https://near.tl/sm/uCT0JnK9e" target="_blank" class="announcement-link">
          üëâ Learn More
                </a>
              </b>
                </div>
            </div>
        </div>
    </div>
</div>
</div></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/wiki-test/docs"><div class="navbar__logo"><img src="/wiki-test/img/logo.svg" alt="CamThink" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/wiki-test/img/logo_dark.svg" alt="CamThink" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a></div><div class="navbar__items navbar__items--right"><a href="https://www.camthink.ai/store/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link store-button">üõçÔ∏è Store<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/camthink-ai" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/wiki-test/zh-Hans/docs/NeoEdge NG4500 Series/NG4500-CB01 Development Board/Software Guide/Driver Installation and Updates/ov5647" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-Hans">‰∏≠Êñá</a></li><li><a href="/wiki-test/docs/NeoEdge NG4500 Series/NG4500-CB01 Development Board/Software Guide/Driver Installation and Updates/ov5647" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en-US">English</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_YFbd"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/wiki-test/docs/">Welcome</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/wiki-test/docs/NeoEdge NG4500 Series/Overview">NeoEdge NG4500 Series</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/wiki-test/docs/NeoEdge NG4500 Series/Overview">Product Information</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/wiki-test/docs/NeoEdge NG4500 Series/Quick Start">Quick Start</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/wiki-test/docs/NeoEdge NG4500 Series/NG4500-CB01 Development Board/Dev Guide">NG4500-CB01 Development Board</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/wiki-test/docs/NeoEdge NG4500 Series/NG4500-CB01 Development Board/Dev Guide">Dev Guide</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/wiki-test/docs/NeoEdge NG4500 Series/NG4500-CB01 Development Board/Hardware Guide/Components Overview">Hardware Guide</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/wiki-test/docs/NeoEdge NG4500 Series/NG4500-CB01 Development Board/Software Guide/System Flashing and Initialization">Software Guide</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/wiki-test/docs/NeoEdge NG4500 Series/NG4500-CB01 Development Board/Software Guide/System Flashing and Initialization">System  Flashing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/wiki-test/docs/NeoEdge NG4500 Series/NG4500-CB01 Development Board/Software Guide/Development Environment Setup">Development Environment Setup</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/wiki-test/docs/NeoEdge NG4500 Series/NG4500-CB01 Development Board/Software Guide/Driver Installation and Updates/Interface&amp;modules configure">Driver Installation and Updates</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/wiki-test/docs/NeoEdge NG4500 Series/NG4500-CB01 Development Board/Software Guide/Driver Installation and Updates/Interface&amp;modules configure">Interface</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/wiki-test/docs/NeoEdge NG4500 Series/NG4500-CB01 Development Board/Software Guide/Driver Installation and Updates/wifi">WIFI</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/wiki-test/docs/NeoEdge NG4500 Series/NG4500-CB01 Development Board/Software Guide/Driver Installation and Updates/ov5647">OV5647 Camera Module Adaptation Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/wiki-test/docs/NeoEdge NG4500 Series/NG4500-CB01 Development Board/Software Guide/Driver Installation and Updates/ALC5640">Audio Adaptation Guide (ALC5640 Example)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/wiki-test/docs/NeoEdge NG4500 Series/NG4500-CB01 Development Board/Software Guide/Driver Installation and Updates/2-4G_5G">4G/5G</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/wiki-test/docs/NeoEdge NG4500 Series/NG4500-CB01 Development Board/Software Guide/Software Frameworks and Tools/Docker">Software Frameworks and Tools</a></div></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/wiki-test/docs/NeoEdge NG4500 Series/Application Guide/Deepseek-r1">Application Guide</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/wiki-test/docs/NeoEyes NE101 Series/Overview">NeoEyes NE101 Series</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/wiki-test/docs/Hardware Dev Resources/SSD">Hardware Dev Resources</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><span class="breadcrumbs__link">NeoEdge NG4500 Series</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">NG4500-CB01 Development Board</span><meta itemprop="position" content="2"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Software Guide</span><meta itemprop="position" content="3"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Driver Installation and Updates</span><meta itemprop="position" content="4"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">OV5647 Camera Module Adaptation Guide</span><meta itemprop="position" content="5"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>OV5647 Camera Module Adaptation Guide</h1></header>
<p>This guide uses the OV5647 camera module as an example to detail the development and adaptation process on the NG4520 platform, covering hardware preparation, device tree configuration, driver compilation, system loading, and debugging steps.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="terms-and-explanations">Terms and Explanations<a href="#terms-and-explanations" class="hash-link" aria-label="Direct link to Terms and Explanations" title="Direct link to Terms and Explanations">‚Äã</a></h2>
<table><thead><tr><th>Terms</th><th>Explanations</th></tr></thead><tbody><tr><td>ISP</td><td>Converts raw sensor data into usable images, handling demosaicing, noise reduction, exposure, focus, and white balance.</td></tr><tr><td>Bayer</td><td>Bayer sensors uses alternating red, green, and blue filters over photosites, with green taking half, to capture color images.</td></tr><tr><td>CSI</td><td>High-speed serial interface for transferring image data between sensors and processors.</td></tr><tr><td>V4L2</td><td>Linux kernel driver interface for video capture and output devices.</td></tr><tr><td>libargus</td><td>NVIDIA API for acquiring camera images and metadata.</td></tr><tr><td>Camera Core Library</td><td>Provides controls and processing between user applications and V4L2 drivers.</td></tr><tr><td>GStreamer</td><td>Multimedia framework supporting playback and advanced audio/video processing.</td></tr><tr><td>Host1x</td><td>Tegra DMA engine managing graphics/multimedia register access and sync via client FIFOs.</td></tr><tr><td>Aperture</td><td>Controls the size of the lens opening.</td></tr><tr><td>UVC</td><td>USB video devices with standard streaming functions that connect directly to hosts.</td></tr><tr><td>VI</td><td>Transfers video data from an input device.</td></tr></tbody></table>
<p><strong>Software Driver Architecture</strong></p>
<p>The NVIDIA platform supports two types of camera driver architecturesÔºö</p>
<ul>
<li><strong>Camera Core Library Interface</strong>Ôºö Enables access to the ISP and advanced image processing. Applications interact through the libargus API (e.g., the nvgstcapture-1.0 tool).</li>
<li><strong>Direct V4L2 Interface</strong>ÔºöDirectly uses the V4L2 driver without the NVIDIA ISP.</li>
</ul>
<p><strong>It is recommended to use the Camera Core Library Interface to fully leverage the capabilities of the NVIDIA ISP.</strong></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ov5647-driver-configuration-process">OV5647 Driver Configuration Process<a href="#ov5647-driver-configuration-process" class="hash-link" aria-label="Direct link to OV5647 Driver Configuration Process" title="Direct link to OV5647 Driver Configuration Process">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">‚Äã</a></h3>
<ul>
<li>
<p>To find the I2C address and pinout of a camera moduleÔºåverify the Power-Down (PWDN) and RESET pins.</p>
</li>
<li>
<p>Obtain the device‚Äôs power-up sequence, external clock parameters, supported resolutions and frame rates, and the color filter array typeÔºàBGGR/GBRG/GRBG/RGGBÔºâ.</p>
</li>
<li>
<p>Confirm the connection interface and the corresponding <code>¬†tegra_sinterface </code>¬†mapping (for example, on the NG452X platform, cam0 = serial_c).</p>
</li>
</ul>
<blockquote>
<p><strong>This example is based on Jetson Orin NX, with cam0 as the hardware connection interface.</strong></p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="to-add-camera-modules-to-a-device-tree">To add camera modules to a device tree<a href="#to-add-camera-modules-to-a-device-tree" class="hash-link" aria-label="Direct link to To add camera modules to a device tree" title="Direct link to To add camera modules to a device tree">‚Äã</a></h3>
<ul>
<li>
<p>Locate or create a tegra-camera-platform device tree node in the kernel source tree at:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Linux_for_Tegra/source/hardware/nvidia/t23x/nv-public/overlay/tegra234-p3767-camera-p3768-ov5647.dts`</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Configure the <code>¬†tegra-camera-platform </code>¬†node, including video stream ports and connection relationships. For exampleÔºö</p>
<div class="language-nand2tetris-hdl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-nand2tetris-hdl codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">tegra-capture-vi  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    num-channels = &lt;1&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ports {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        #address-cells = &lt;1&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        #size-cells = &lt;0&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        vi_port1: port@1 {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            reg = &lt;0&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            rbpcv2_ov5647_vi_in1: endpoint {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                port-index = &lt;2&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                bus-width = &lt;2&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                remote-endpoint = &lt;&amp;rbpcv2_ov5647_csi_out1&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>I2C Device Node Configuration</p>
<p>Configure camera parameters (I2C address, modes, clock, resolution, etc.)Ôºö</p>
<div class="language-nand2tetris-hdl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-nand2tetris-hdl codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rbpcv2_ov5647_c@36 {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    reset-gpios = &lt;&amp;gpio CAM0_RST GPIO_ACTIVE_HIGH&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pwdn-gpios = &lt;&amp;gpio CAM1_PWDN GPIO_ACTIVE_HIGH&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    compatible = &quot;ovti,ov5647&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /* I2C device address */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    reg = &lt;0x36&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /* V4L2 device node loation */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    devnode = &quot;video0&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /* Physical dimensions of sensor */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    physical_w = &quot;3.670&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    physical_h = &quot;2.740&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sensor_model = &quot;ov5647&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    use_sensor_mode_id = &quot;true&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    clocks = &lt;&amp;bpmp TEGRA234_CLK_EXTPERIPH2&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;&amp;bpmp TEGRA234_CLK_PLLP_OUT0&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    clock-names = &quot;extperiph2&quot;, &quot;pllp_grtba&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mclk = &quot;extperiph2&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    clock-frequency = &lt;24000000&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mode0 { /* ov5647_MODE0_1920x1080_30FPS */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        mclk_khz = &quot;25000&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        num_lanes = &quot;2&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // lane_polarity = &quot;4&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        tegra_sinterface = &quot;serial_c&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        phy_mode = &quot;DPHY&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        discontinuous_clk = &quot;yes&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        dpcm_enable = &quot;false&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        cil_settletime = &quot;0&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        active_w = &quot;1920&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        active_h = &quot;1080&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        mode_type = &quot;bayer&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        pixel_phase = &quot;bggr&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        csi_pixel_bit_depth = &quot;10&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        readout_orientation = &quot;90&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        line_length = &quot;2416&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        inherent_gain = &quot;1&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        mclk_multiplier = &quot;3.6669&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        pix_clk_hz = &quot;81666663&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        gain_factor = &quot;16&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        framerate_factor = &quot;1000000&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        exposure_factor = &quot;1000000&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        min_gain_val = &quot;16&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        max_gain_val = &quot;128&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        step_gain_val = &quot;1&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        default_gain = &quot;16&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        min_hdr_ratio = &quot;1&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        max_hdr_ratio = &quot;1&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        min_framerate = &quot;30000000&quot;; /* 30.0 fps */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        max_framerate = &quot;30000000&quot;; /* 30.0 fps */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        step_framerate = &quot;1&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        default_framerate = &quot;45000000&quot;; /* 30.0 fps */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        min_exp_time = &quot;60&quot;; /* us */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        max_exp_time = &quot;30000&quot;; /* us */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        step_exp_time = &quot;1&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        default_exp_time = &quot;10000&quot;; /* us */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        embedded_metadata_height = &quot;0&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ........................</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ports {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        #address-cells = &lt;1&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        #size-cells = &lt;0&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        port@0 {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            reg = &lt;0&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            rbpcv2_ov5647_out1: endpoint {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                status = &quot;okay&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                port-index = &lt;1&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                bus-width = &lt;2&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                remote-endpoint = &lt;&amp;rbpcv2_ov5647_csi_in1&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Port Binding Configuration</p>
<ul>
<li>
<p>Use<code>remote-endpoint</code>¬†to connect the camera, CSI, and VI modules, ensuring a complete video stream pipeline.</p>
<div class="language-nand2tetris-hdl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-nand2tetris-hdl codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">tegra-capture-vi  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    num-channels = &lt;1&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ports {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        #address-cells = &lt;1&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        #size-cells = &lt;0&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        vi_port1: port@1 {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            reg = &lt;0&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            rbpcv2_ov5647_vi_in1: endpoint {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                port-index = &lt;2&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                bus-width = &lt;2&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                remote-endpoint = &lt;&amp;rbpcv2_ov5647_csi_out1&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">host1x@13e00000 {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    nvcsi@15a00000 {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        num-channels = &lt;1&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        #address-cells = &lt;1&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        #size-cells = &lt;0&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        csi_chan1: channel@1 {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            reg = &lt;0&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ports {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                #address-cells = &lt;1&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                #size-cells = &lt;0&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                csi_chan1_port0: port@0 {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    reg = &lt;0&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    rbpcv2_ov5647_csi_in1: endpoint@2 {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        port-index = &lt;2&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        bus-width = &lt;2&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        remote-endpoint = &lt;&amp;rbpcv2_ov5647_out1&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                csi_chan1_port1: port@1 {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    reg = &lt;1&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    rbpcv2_ov5647_csi_out1: endpoint@3 {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        remote-endpoint = &lt;&amp;rbpcv2_ov5647_vi_in1&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
</li>
<li>
<p>Overlay Makefile ConfigurationÔºåadd the following in¬†<code>overlay/Makefile</code>Ôºö</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">dtbo-y += tegra234-p3767-camera-p3768-ov5647.dtbo</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Build the  dtboÔºö</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">make dtbs</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="building-driver">Building Driver<a href="#building-driver" class="hash-link" aria-label="Direct link to Building Driver" title="Direct link to Building Driver">‚Äã</a></h3>
<ul>
<li>
<p>Add Driver Source Code</p>
<ul>
<li>Example patÔºö<code>drivers/media/i2c/ov5647.c</code></li>
<li>It is recommended to modify it based on¬†<code>nv_ov5693.c</code>¬†</li>
<li>Main functions includeÔºö<!-- -->
<ul>
<li>Use<code>tegracam_device_register</code>¬†to register the driver</li>
<li>Set up these key function structuresÔºö<!-- -->
<ul>
<li><code>tc_dev-&gt;sensor_ops</code>(power on/off, register read/write, mode setting, stream control, etc.)</li>
<li><code>tc_dev-&gt;v4l2sd_internal_ops</code>Ôºàe.g., open/s_streamÔºâ</li>
<li><code>tc_dev-&gt;tcctrl_ops</code>Ôºàgain, exposure, frame rate control, etc.Ôºâ</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">static struct tegracam_sensor_ops ov5647_sensor_ops = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .power_on = ov5647_power_on,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .power_off = ov5647_power_off,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .write_reg = ov5647_write_reg,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .read_reg = ov5647_read_reg,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .set_mode = ov5647_set_mode,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .start_streaming = ov5647_start_streaming,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .stop_streaming = ov5647_stop_streaming,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .sensor_init = ov5647_sensor_init,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<p>The implementation of these functions should follow the OV5647 datasheet and related documentation</p>
<ul>
<li>
<p>Add Register Table Header File</p>
<ul>
<li>Example pathÔºö<code>drivers/media/i2c/ov5647_modes_tbls.h</code></li>
<li>This should include register configuration tables for various resolutions and exposure settings, and keep the same order as defined in the device tree modes.</li>
</ul>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">v4l2_subdev_internal_ops</span><span class="token plain"> ov5647_subdev_internal_ops </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">open </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ov5647_open</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Driver Makefile ConfigurationÔºåadd the following line to to¬†<code>drivers/media/i2c/Makefile</code>¬†to include the OV5647 driverÔºö</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">obj-m += ov5647.o</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Compile the kernel moduleÔºö</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">make modules</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="driver-installation-and-loading">Driver Installation and Loading<a href="#driver-installation-and-loading" class="hash-link" aria-label="Direct link to Driver Installation and Loading" title="Direct link to Driver Installation and Loading">‚Äã</a></h3>
<p><strong>Copy Files</strong></p>
<ul>
<li>Copy the generated¬†<code>.dtbo</code>¬†and¬†<code>ov5647.ko</code>¬†to the target device (for example, NG4520):</li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd Linux_for_Tegra/source</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">scp ./kernel-devicetree/generic-dts/dtbs/tegra234-p3767-camera-p3768-ov5647.dtbo milesight@192.168.60.3:/home/milesight</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">scp ./kernel-devicetree/generic-dts/dtbs/tegra234-p3767-camera-p3768-ov5647.dtbo milesight@192.168.60.3:/home/milesight</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Driver Installation</strong></p>
<ul>
<li>Copyov5647.ko to the modules directory and run <code>depmod</code> to load the driver:</li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo cp ./ov5647.ko  /usr/lib/modules/5.15.148-tegra/updates/drivers/media/i2c/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">depmod</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>
<p>Copy<code>.dtbo</code>¬†to¬†<code>/boot</code>Ôºåand load it using the¬†<code>config-by-hardware.py</code>¬†</p>
</li>
<li>
<p>After completing these steps, reboot the development board.</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="verification-process">Verification Process<a href="#verification-process" class="hash-link" aria-label="Direct link to Verification Process" title="Direct link to Verification Process">‚Äã</a></h2>
<ol>
<li>
<p><strong>Check the Device Tree Load</strong></p>
<ul>
<li>
<p>Check if<code>extlinux.conf</code>¬†has loaded the¬†<code>.dtbo</code>Ôºö</p>
<p><code>cat /boot/extlinux/extlinux.conf</code></p>
</li>
<li>
<p>Verify whether the device tree node is effectiveÔºö</p>
<p><code>cat /proc/device-tree/tegra-camera-platform/modules/module1/drivernode0/sysfs-device-tree</code></p>
</li>
</ul>
</li>
<li>
<p><strong>Check the Driver Load</strong></p>
<ul>
<li>
<p>Check the driver module using the following commandÔºö</p>
<p><code>lsmod | grep ov5647 sudo dmesg | grep ov5647</code></p>
</li>
<li>
<p>Check I2C device matching using the following commandÔºö</p>
<p><code>sudo i2cdetect -y -r 9</code></p>
</li>
</ul>
</li>
<li>
<p><strong>Camera Function Test</strong></p>
<ul>
<li>
<p>Run¬†<code>nvgstcapture-1.0</code>Ôºåto verify resolution and mode matching, and ensure there are no errors.</p>
</li>
<li>
<p>Check the video stream pipeline using the following commandÔºö</p>
<p><code>sudo media-ctl -p -d /dev/media0</code></p>
</li>
</ul>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="references">References<a href="#references" class="hash-link" aria-label="Direct link to References" title="Direct link to References">‚Äã</a></h2>
<p><a href="https://docs.nvidia.com/jetson/archives/r36.3/DeveloperGuide/SD/CameraDevelopment/SensorSoftwareDriverProgramming.html" target="_blank" rel="noopener noreferrer">Sensor Software Driver Programming</a></p>
<p><a href="https://github.com/mkm684/ov5647_driver/blob/main/ov5647.c" target="_blank" rel="noopener noreferrer">ov5647_driver/ov5647.c at main ¬∑ mkm684/ov5647_driver</a></p>
<hr>
<p>For adapting to other camera models, Please refer to the original vendor datasheet and the NVIDIA official documentation, as the steps are generally similar.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/wiki-test/docs/NeoEdge NG4500 Series/NG4500-CB01 Development Board/Software Guide/Driver Installation and Updates/wifi"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">WIFI</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/wiki-test/docs/NeoEdge NG4500 Series/NG4500-CB01 Development Board/Software Guide/Driver Installation and Updates/ALC5640"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Audio Adaptation Guide (ALC5640 Example)</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#terms-and-explanations" class="table-of-contents__link toc-highlight">Terms and Explanations</a></li><li><a href="#ov5647-driver-configuration-process" class="table-of-contents__link toc-highlight">OV5647 Driver Configuration Process</a><ul><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#to-add-camera-modules-to-a-device-tree" class="table-of-contents__link toc-highlight">To add camera modules to a device tree</a></li><li><a href="#building-driver" class="table-of-contents__link toc-highlight">Building Driver</a></li><li><a href="#driver-installation-and-loading" class="table-of-contents__link toc-highlight">Driver Installation and Loading</a></li></ul></li><li><a href="#verification-process" class="table-of-contents__link toc-highlight">Verification Process</a></li><li><a href="#references" class="table-of-contents__link toc-highlight">References</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Wiki</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/wiki-test/docs">Home</a></li><li class="footer__item"><a class="footer__link-item" href="/wiki-test/docs/neoedge-ng4500-series/overview">NG4500</a></li><li class="footer__item"><a class="footer__link-item" href="/wiki-test/docs/neoeyes-ne101-series/overview">NE101</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.com/invite/6TZb2Y8WKx" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://x.com/CamThinkAI" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/@CamThink" target="_blank" rel="noopener noreferrer" class="footer__link-item">Youtube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.camthink.ai" target="_blank" rel="noopener noreferrer" class="footer__link-item">WebSite<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.camthink.ai/store/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Store<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/camthink-ai" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2025 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>