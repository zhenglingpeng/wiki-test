"use strict";(self.webpackChunkclassic=self.webpackChunkclassic||[]).push([[2905],{82791:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"NeoEdge NG4500 Series/NG4500-CB01 Development Board/Software Guide/Driver Installation and Updates/wifi","title":"WIFI","description":"\u672c\u6587\u6863\u4ee5 Realtek RTL8821CE \u4e3a\u4f8b\uff0c\u4ecb\u7ecdNG4520\u5e73\u53f0\u4e0b WIFI \u9a71\u52a8\u7684\u5b89\u88c5\u4e0e\u4f7f\u7528\u65b9\u6cd5\u3002","source":"@site/docs/1-NeoEdge NG4500 Series/2-NG4500-CB01 Development Board/2-Software Guide/1-Driver Installation and Updates/1-wifi.md","sourceDirName":"1-NeoEdge NG4500 Series/2-NG4500-CB01 Development Board/2-Software Guide/1-Driver Installation and Updates","slug":"/NeoEdge NG4500 Series/NG4500-CB01 Development Board/Software Guide/Driver Installation and Updates/wifi","permalink":"/wiki-documents/zh-Hans/docs/NeoEdge NG4500 Series/NG4500-CB01 Development Board/Software Guide/Driver Installation and Updates/wifi","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Interface","permalink":"/wiki-documents/zh-Hans/docs/NeoEdge NG4500 Series/NG4500-CB01 Development Board/Software Guide/Driver Installation and Updates/Interface&modules configure"},"next":{"title":"\u6444\u50cf\u5934\uff08\u4ee5 OV5647 \u4e3a\u4f8b\uff09","permalink":"/wiki-documents/zh-Hans/docs/NeoEdge NG4500 Series/NG4500-CB01 Development Board/Software Guide/Driver Installation and Updates/ov5647"}}');var s=r(74848),d=r(28453);const t={},l="WIFI",o={},c=[{value:"\u5b89\u88c5\u65b9\u5f0f",id:"\u5b89\u88c5\u65b9\u5f0f",level:2},{value:"\u7cfb\u7edf\u5185\u76f4\u63a5\u5b89\u88c5",id:"\u7cfb\u7edf\u5185\u76f4\u63a5\u5b89\u88c5",level:2},{value:"\u6e90\u7801\u7f16\u8bd1\u5b89\u88c5",id:"\u6e90\u7801\u7f16\u8bd1\u5b89\u88c5",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,d.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"wifi",children:"WIFI"})}),"\n",(0,s.jsx)(n.p,{children:"\u672c\u6587\u6863\u4ee5 Realtek RTL8821CE \u4e3a\u4f8b\uff0c\u4ecb\u7ecdNG4520\u5e73\u53f0\u4e0b WIFI \u9a71\u52a8\u7684\u5b89\u88c5\u4e0e\u4f7f\u7528\u65b9\u6cd5\u3002"}),"\n",(0,s.jsx)(n.h2,{id:"\u5b89\u88c5\u65b9\u5f0f",children:"\u5b89\u88c5\u65b9\u5f0f"}),"\n",(0,s.jsx)(n.p,{children:"WIFI \u9a71\u52a8\u652f\u6301\u4e24\u79cd\u5b89\u88c5\u65b9\u5f0f\uff1a"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u7cfb\u7edf\u5185\u76f4\u63a5\u5b89\u88c5"}),"\uff08\u63a8\u8350\uff0c\u7b80\u5355\u5feb\u6377\uff09"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u6e90\u7801\u7f16\u8bd1\u540e\u70e7\u5199"}),"\uff08\u9002\u7528\u4e8e\u5b9a\u5236\u6216\u5185\u6838\u7248\u672c\u4e0d\u517c\u5bb9\u573a\u666f\uff09"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"\u7cfb\u7edf\u5185\u76f4\u63a5\u5b89\u88c5",children:"\u7cfb\u7edf\u5185\u76f4\u63a5\u5b89\u88c5"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u5b89\u88c5\u6b65\u9aa4\u5982\u4e0b\uff1a"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"\u5b89\u88c5\u9a71\u52a8"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"$ sudo apt update\r\n$ sudo apt install rtl8821ce-dkms\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsx)(n.li,{children:"\u52a0\u8f7d\u9a71\u52a8"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"$ sudo modprobe rtl8821ce\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsx)(n.li,{children:"\u9a8c\u8bc1\u9a71\u52a8\u52a0\u8f7d"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"$ dmesg | grep rtl\n"})}),"\n",(0,s.jsx)(n.p,{children:"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\u5178\u578b\u65e5\u5fd7\u8f93\u51fa\u793a\u4f8b\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"[   10.805932] rtl8821ce 0001:01:00.0: Adding to iommu group 3\r\n[   10.806901] rtl8821ce 0001:01:00.0: enabling device (0000 -> 0003)\r\n[   11.077841] Bluetooth: hci0: RTL: loading rtl_bt/rtl8821c_fw.bin\r\n[   11.079036] Bluetooth: hci0: RTL: loading rtl_bt/rtl8821c_config.bin\r\n[   11.320620] rtl8821ce 0001:01:00.0 wlP1p1s0: renamed from wlan0\n"})}),"\n",(0,s.jsx)(n.h2,{id:"\u6e90\u7801\u7f16\u8bd1\u5b89\u88c5",children:"\u6e90\u7801\u7f16\u8bd1\u5b89\u88c5"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"\u4ee3\u7801\u83b7\u53d6"}),"\n"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u5b98\u65b9\u4ed3\u5e93\uff1a",(0,s.jsx)(n.a,{href:"https://github.com/tomaspinho/rtl8821ce",children:"GitHub - tomaspinho/rtl8821ce"})]}),"\n",(0,s.jsx)(n.li,{children:"\u5bfb\u6c42\u4e0e WiFi \u5382\u5546\u83b7\u53d6\u76f8\u5173\u8d44\u6e90"}),"\n"]}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsx)(n.li,{children:"\u76ee\u5f55\u653e\u7f6e"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\u5c06\u6e90\u7801\u653e\u7f6e\u4e8e\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Linux_for_Tegra/source/nvidia-oot/drivers/net/wireless/realtek/rtl8821ce\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsx)(n.li,{children:"Makefile \u914d\u7f6e"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\u5728\u4e3b Makefile \u4e2d\u6dfb\u52a0\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"obj-m += rtl8821ce/\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\u6309\u9700\u4fee\u6539 rtl8821ce \u76ee\u5f55\u4e0b Makefile\uff0c",(0,s.jsx)(n.strong,{children:"\u4f7f\u80fd TEGRA \u5e73\u53f0\u652f\u6301"}),"\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"diff --git a/Makefile b/Makefile\r\nindex 5b5dc9a..01b1e24 100755\r\n--- a/Makefile\r\n+++ b/Makefile\r\n@@ -15,6 +15,8 @@ EXTRA_CFLAGS += -Wno-unused-parameter\r\n EXTRA_CFLAGS += -Wno-unused-function\r\n EXTRA_CFLAGS += -Wno-unused\r\n #EXTRA_CFLAGS += -Wno-uninitialized\r\n+EXTRA_CFLAGS += -Wno-missing-prototypes\r\n+EXTRA_CFLAGS += -Wno-error=misleading-indentation\r\n\r\n GCC_VER_49 := $(shell echo `$(CC) -dumpversion | cut -f1-2 -d.` \\>= 4.9 | bc )\r\n ifeq ($(GCC_VER_49),1)\r\n@@ -29,6 +31,7 @@ else\r\n     export TopDIR ?= $(srctree)/$(src)\r\n endif\r\n\r\n+TopDIR = $(srctree.nvidia-oot)/drivers/net/wireless/realtek/rtl8821ce\r\n EXTRA_CFLAGS += -I$(TopDIR)/include\r\n\r\n EXTRA_LDFLAGS += --strip-debug\r\n@@ -113,7 +116,8 @@ CONFIG_RTW_SDIO_PM_KEEP_POWER = y\r\n ###################### MP HW TX MODE FOR VHT #######################\r\n CONFIG_MP_VHT_HW_TX_MODE = n\r\n ###################### Platform Related #######################\r\n-CONFIG_PLATFORM_I386_PC = y\r\n+CONFIG_PLATFORM_TEGRA = y\r\n+CONFIG_PLATFORM_I386_PC = n\r\n CONFIG_PLATFORM_ANDROID_X86 = n\r\n CONFIG_PLATFORM_ANDROID_INTEL_X86 = n\r\n CONFIG_PLATFORM_JB_X86 = n\r\n@@ -1212,6 +1216,15 @@ endif\r\n\r\n EXTRA_CFLAGS += -DDM_ODM_SUPPORT_TYPE=0x04\r\n\r\n+ifeq ($(CONFIG_PLATFORM_TEGRA), y)\r\n+ARCH = arm\r\n+KVER := $(shell uname -r)\r\n+KSRC := /lib/modules/$(KVER)/build\r\n+EXTRA_CFLAGS += -DCONFIG_LITTLE_ENDIAN\r\n+EXTRA_CFLAGS += -DCONFIG_IOCTL_CFG80211 -DRTW_USE_CFG80211_STA_EVENT\r\n+EXTRA_CFLAGS += -Wno-error=date-time\r\n+MODULE_NAME = rtl8821ce\r\n+endif\r\n ifeq ($(CONFIG_PLATFORM_I386_PC), y)\r\n EXTRA_CFLAGS += -DCONFIG_LITTLE_ENDIAN\r\n EXTRA_CFLAGS += -DCONFIG_IOCTL_CFG80211 -DRTW_USE_CFG80211_STA_EVENT\r\n@@ -2232,7 +2245,7 @@ ifeq ($(CONFIG_RTL8723B), y)\r\n $(MODULE_NAME)-$(CONFIG_MP_INCLUDED)+= core/rtw_bt_mp.o\r\n endif\r\n\r\n-obj-$(CONFIG_RTL8821CE) := $(MODULE_NAME).o\r\n+obj-m := $(MODULE_NAME).o\r\n\r\n else\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"4",children:["\n",(0,s.jsx)(n.li,{children:"\u7f16\u8bd1\u4e0e\u70e7\u5f55"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\u6267\u884c\u5185\u6838\u6216\u6a21\u5757\u7f16\u8bd1\uff0c\u5c06\u6a21\u5757\u5b89\u88c5\u5230 rootfs \u4e0b\uff0c\u70e7\u5f55\u7cfb\u7edf\u3002\u5177\u4f53\u7f16\u8bd1\u3001\u70e7\u5f55\u65b9\u6cd5\u53c2\u89c1 Jetson \u5b98\u65b9\u6587\u6863\u3002"}),"\n",(0,s.jsxs)(n.ol,{start:"5",children:["\n",(0,s.jsx)(n.li,{children:"\u4f7f\u7528\u4e0e\u9a8c\u8bc1"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\u52a0\u8f7d\u9a71\u52a8"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"$ sudo modprobe rtl8821ce\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u67e5\u770b\u8bbe\u5907"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"$ sudo lspci\r\n0001:01:00.0 Network controller: Realtek Semiconductor Co., Ltd. RTL8821CE 802.11ac PCIe Wireless Network Adapter\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u67e5\u770b\u65e5\u5fd7"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"$ sudo dmesg | grep rtl\r\n[    9.785137] rtl8821ce 0001:01:00.0: Adding to iommu group 3\r\n[    9.785307] rtl8821ce 0001:01:00.0: enabling device (0000 -> 0003)\r\n[   10.010615] Bluetooth: hci0: RTL: loading rtl_bt/rtl8821c_fw.bin\r\n[   10.011780] Bluetooth: hci0: RTL: loading rtl_bt/rtl8821c_config.bin\r\n[   10.441574] rtl8821ce 0001:01:00.0 wlP1p1s0: renamed from wlan0\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u67e5\u770b\u7f51\u7edc\u63a5\u53e3"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"RTL8821_wifi_connection1.png",src:r(74486).A+"",width:"423",height:"493"})}),"\n",(0,s.jsx)(n.p,{children:"ifconfig\u67e5\u770b\u7f51\u7edc\u8bbe\u5907"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"wlP1p1s0: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500\r\n        inet 192.168.204.218  netmask 255.255.255.0  broadcast 192.168.204.255\r\n        inet6 fe80::aba:6776:77ec:4831  prefixlen 64  scopeid 0x20<link>\r\n        inet6 2409:8934:20d4:908:f2b8:fd54:f19a:a11a  prefixlen 64  scopeid 0x0<global>\r\n        inet6 2409:8934:20d4:908:5de2:d217:83e0:d943  prefixlen 64  scopeid 0x0<global>\r\n        ether a4:e8:8d:0f:e4:ce  txqueuelen 1000  (Ethernet)\r\n        RX packets 2060  bytes 2644294 (2.6 MB)\r\n        RX errors 0  dropped 48  overruns 0  frame 0\r\n        TX packets 1656  bytes 195010 (195.0 KB)\r\n        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0ons 0\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u7f51\u7edc\u8fde\u901a\u6027\u6d4b\u8bd5"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"$ ping -I wlP1p1s0 www.baidu.com\r\nPING www.baidu.com(2409:8c20:6:1d55:0:ff:b09c:7d77 (2409:8c20:6:1d55:0:ff:b09c:7d77)) from 2409:8934:20d4:908:5de2:d217:83e0:d943 wlP1p1s0: 56 data bytes\r\n64 bytes from 2409:8c20:6:1d55:0:ff:b09c:7d77 (2409:8c20:6:1d55:0:ff:b09c:7d77): icmp_seq=1 ttl=48 time=88.7 ms\r\n64 bytes from 2409:8c20:6:1d55:0:ff:b09c:7d77 (2409:8c20:6:1d55:0:ff:b09c:7d77): icmp_seq=2 ttl=48 time=50.8 ms\r\n64 bytes from 2409:8c20:6:1d55:0:ff:b09c:7d77 (2409:8c20:6:1d55:0:ff:b09c:7d77): icmp_seq=3 ttl=48 time=80.5 ms\r\n64 bytes from 2409:8c20:6:1d55:0:ff:b09c:7d77 (2409:8c20:6:1d55:0:ff:b09c:7d77): icmp_seq=4 ttl=48 time=86.1 ms\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.p,{children:"\u5982\u9700\u652f\u6301\u5176\u5b83 WIFI \u82af\u7247\u9a71\u52a8\uff0c\u53c2\u8003\u5bf9\u5e94\u5382\u5546\u6587\u6863\u548c\u5185\u6838\u9002\u914d\u6d41\u7a0b\u3002"})]})}function h(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},74486:(e,n,r)=>{r.d(n,{A:()=>i});const i=r.p+"assets/images/RTL8821_wifi_connection1-8f053624f6300ee150825aafdc321554.png"},28453:(e,n,r)=>{r.d(n,{R:()=>t,x:()=>l});var i=r(96540);const s={},d=i.createContext(s);function t(e){const n=i.useContext(d);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),i.createElement(d.Provider,{value:n},e.children)}}}]);