"use strict";(self.webpackChunkclassic=self.webpackChunkclassic||[]).push([[9859],{45799:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>t,default:()=>o,frontMatter:()=>l,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"NeoEdge NG4500 Series/Application Guide/mediapipe","title":"Pose Estimation","description":"---","source":"@site/docs/1-NeoEdge NG4500 Series/3-Application Guide/2-mediapipe.md","sourceDirName":"1-NeoEdge NG4500 Series/3-Application Guide","slug":"/NeoEdge NG4500 Series/Application Guide/mediapipe","permalink":"/wiki-test/zh-Hans/docs/NeoEdge NG4500 Series/Application Guide/mediapipe","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Chatbot","permalink":"/wiki-test/zh-Hans/docs/NeoEdge NG4500 Series/Application Guide/Deepseek-r1"},"next":{"title":"Object Detection","permalink":"/wiki-test/zh-Hans/docs/NeoEdge NG4500 Series/Application Guide/Object Detection"}}');var r=i(74848),d=i(28453);const l={},t="Pose Estimation",a={},c=[{value:"1. \u6982\u89c8",id:"1-\u6982\u89c8",level:2},{value:"2. \u7cfb\u7edf\u8981\u6c42",id:"2-\u7cfb\u7edf\u8981\u6c42",level:2},{value:"\u786c\u4ef6",id:"\u786c\u4ef6",level:3},{value:"\u8f6f\u4ef6",id:"\u8f6f\u4ef6",level:3},{value:"3. \u73af\u5883\u914d\u7f6e",id:"3-\u73af\u5883\u914d\u7f6e",level:2},{value:"\u6b65\u9aa4 1\uff1a\u66f4\u65b0\u7cfb\u7edf\u5e76\u5b89\u88c5\u4f9d\u8d56",id:"\u6b65\u9aa4-1\u66f4\u65b0\u7cfb\u7edf\u5e76\u5b89\u88c5\u4f9d\u8d56",level:3},{value:"\u6b65\u9aa4 2\uff1a\u5b89\u88c5 Python \u5305",id:"\u6b65\u9aa4-2\u5b89\u88c5-python-\u5305",level:3},{value:"4. \u8fd0\u884c\u59ff\u6001\u4f30\u8ba1",id:"4-\u8fd0\u884c\u59ff\u6001\u4f30\u8ba1",level:2},{value:"mediapipe_pose_1",id:"mediapipe_pose_1",level:2},{value:"5. \u624b\u90e8\u8ffd\u8e2a",id:"5-\u624b\u90e8\u8ffd\u8e2a",level:2},{value:"6. \u6027\u80fd\u4e0e\u4f18\u5316\u5efa\u8bae",id:"6-\u6027\u80fd\u4e0e\u4f18\u5316\u5efa\u8bae",level:2},{value:"\u4f18\u5316\u5efa\u8bae",id:"\u4f18\u5316\u5efa\u8bae",level:3},{value:"7. \u6545\u969c\u6392\u67e5",id:"7-\u6545\u969c\u6392\u67e5",level:2},{value:"8. \u9644\u5f55",id:"8-\u9644\u5f55",level:2},{value:"\u53c2\u8003\u8d44\u6e90",id:"\u53c2\u8003\u8d44\u6e90",level:3}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"pose-estimation",children:"Pose Estimation"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"1-\u6982\u89c8",children:"1. \u6982\u89c8"}),"\n",(0,r.jsxs)(n.p,{children:["\u672c\u6587\u4ecb\u7ecd\u5982\u4f55\u5728 ",(0,r.jsx)(n.strong,{children:"Jetson Orin"})," \u5e73\u53f0\uff08Nano / NX / AGX\uff09\u4e0a\u4f7f\u7528 ",(0,r.jsx)(n.strong,{children:"MediaPipe Python API"})," \u5b9e\u73b0\u5b9e\u65f6 ",(0,r.jsx)(n.strong,{children:"\u59ff\u6001\u4f30\u8ba1\uff08Pose Estimation\uff09"}),"\uff0c\u540c\u65f6\u542f\u7528 GPU \u52a0\u901f\uff08\u5982\u652f\u6301\uff09\u3002"]}),"\n",(0,r.jsx)(n.p,{children:"\u59ff\u6001\u4f30\u8ba1\u5e7f\u6cdb\u5e94\u7528\u4e8e\u624b\u52bf\u8bc6\u522b\u3001\u5065\u8eab\u8ffd\u8e2a\u3001\u4eba\u673a\u4ea4\u4e92\u7b49\u9886\u57df\u3002"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"mediapipe-series-solutions",src:i(66507).A+"",width:"600",height:"281"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"2-\u7cfb\u7edf\u8981\u6c42",children:"2. \u7cfb\u7edf\u8981\u6c42"}),"\n",(0,r.jsx)(n.h3,{id:"\u786c\u4ef6",children:"\u786c\u4ef6"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Jetson Orin \u7cfb\u5217\uff08Nano\u3001NX\u3001AGX\uff09"}),"\n",(0,r.jsx)(n.li,{children:"USB / CSI \u6444\u50cf\u5934\uff08\u53ef\u9009\u4f46\u63a8\u8350\uff09"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"\u8f6f\u4ef6",children:"\u8f6f\u4ef6"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u64cd\u4f5c\u7cfb\u7edf"}),"\uff1aUbuntu 20.04 / 22.04 LTS\uff08\u57fa\u4e8e JetPack\uff09"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"JetPack"}),"\uff1a\u5b98\u65b9\u955c\u50cf\uff08\u5305\u542b CUDA\u3001cuDNN\u3001TensorRT\uff09"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Python"}),"\uff1a\u5efa\u8bae 3.8+"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"MediaPipe\uff08Python \u7248\u672c\uff09"}),"\uff1a\u901a\u8fc7 pip \u5b89\u88c5"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u4f9d\u8d56\u9879"}),"\uff1aOpenCV\u3001FFmpeg\u3001GStreamer\uff08\u7528\u4e8e\u6444\u50cf\u5934/\u89c6\u9891\u652f\u6301\uff09"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"3-\u73af\u5883\u914d\u7f6e",children:"3. \u73af\u5883\u914d\u7f6e"}),"\n",(0,r.jsx)(n.h3,{id:"\u6b65\u9aa4-1\u66f4\u65b0\u7cfb\u7edf\u5e76\u5b89\u88c5\u4f9d\u8d56",children:"\u6b65\u9aa4 1\uff1a\u66f4\u65b0\u7cfb\u7edf\u5e76\u5b89\u88c5\u4f9d\u8d56"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"sudo apt update && sudo apt upgrade\r\nsudo apt install -y \\\r\n    python3-dev python3-pip python3-opencv \\\r\n    libopencv-dev \\\r\n    libgstreamer1.0-dev libgstreamer-plugins-base1.0-dev \\\r\n    libavcodec-dev libavformat-dev libswscale-dev\n"})}),"\n",(0,r.jsx)(n.h3,{id:"\u6b65\u9aa4-2\u5b89\u88c5-python-\u5305",children:"\u6b65\u9aa4 2\uff1a\u5b89\u88c5 Python \u5305"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"python3 -m pip install --upgrade pip\r\npip3 install mediapipe opencv-python\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u5982\u9700\u4f7f\u7528 Jetson \u7684 GPU \u8fdb\u884c\u52a0\u901f\uff0c\u53ef\u542f\u7528 JetPack \u9644\u5e26\u7684 TensorRT\u3001CUDA\uff0c\u5e76\u786e\u4fdd\u7cfb\u7edf\u8d44\u6e90\u914d\u7f6e\u6700\u5927\u6027\u80fd\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"sudo nvpmodel -m 0\r\nsudo jetson_clocks\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"4-\u8fd0\u884c\u59ff\u6001\u4f30\u8ba1",children:"4. \u8fd0\u884c\u59ff\u6001\u4f30\u8ba1"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"pose",src:i(81132).A+"",width:"772",height:"438"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'import cv2\r\nimport mediapipe as mp\r\n\r\nmp_pose = mp.solutions.pose\r\npose = mp_pose.Pose()\r\n\r\ncap = cv2.VideoCapture(0)\r\nwhile True:\r\n    ret, frame = cap.read()\r\n    if not ret:\r\n        break\r\n    image = cv2.cvtColor(frame, cv2.COLOR_BGR2RGB)\r\n    results = pose.process(image)\r\n\r\n    if results.pose_landmarks:\r\n        mp.solutions.drawing_utils.draw_landmarks(\r\n            frame, results.pose_landmarks, mp_pose.POSE_CONNECTIONS)\r\n    \r\n    cv2.imshow("Pose Estimation", frame)\r\n    if cv2.waitKey(5) & 0xFF == 27:\r\n        break\r\ncap.release()\r\ncv2.destroyAllWindows()\n'})}),"\n",(0,r.jsx)(n.h2,{id:"mediapipe_pose_1",children:(0,r.jsx)(n.img,{alt:"mediapipe_pose_1",src:i(50229).A+"",width:"640",height:"480"})}),"\n",(0,r.jsx)(n.h2,{id:"5-\u624b\u90e8\u8ffd\u8e2a",children:"5. \u624b\u90e8\u8ffd\u8e2a"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"hand",src:i(52964).A+"",width:"709",height:"247"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"import cv2\r\nimport mediapipe as mp\r\nimport time\r\n\r\nmp_hands = mp.solutions.hands\r\nhands = mp_hands.Hands(min_detection_confidence=0.5, min_tracking_confidence=0.5)\r\nmp_drawing = mp.solutions.drawing_utils\r\n\r\ncap = cv2.VideoCapture(0)\r\n\r\nwhile cap.isOpened():\r\n    ret, frame = cap.read()\r\n    if not ret:\r\n        continue\r\n    image = cv2.cvtColor(frame, cv2.COLOR_BGR2RGB)\r\n    results = hands.process(image)\r\n    image = cv2.cvtColor(image, cv2.COLOR_RGB2BGR)\r\n\r\n    if results.multi_hand_landmarks:\r\n        for hand_landmarks in results.multi_hand_landmarks:\r\n            mp_drawing.draw_landmarks(image, hand_landmarks, mp_hands.HAND_CONNECTIONS)\r\n\r\n    cv2.imshow(\"Hand Tracking\", image)\r\n\r\n    if cv2.waitKey(1) & 0xFF == ord('q'):\r\n        break\r\n\r\ncap.release()\r\ncv2.destroyAllWindows()\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"hand",src:i(16205).A+"",width:"640",height:"480"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"6-\u6027\u80fd\u4e0e\u4f18\u5316\u5efa\u8bae",children:"6. \u6027\u80fd\u4e0e\u4f18\u5316\u5efa\u8bae"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u6a21\u5f0f"}),(0,r.jsx)(n.th,{children:"FPS\uff08AGX Orin\uff09"}),(0,r.jsx)(n.th,{children:"GPU \u4f7f\u7528\u7387"}),(0,r.jsx)(n.th,{children:"\u662f\u5426\u52a0\u901f"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"\u9ed8\u8ba4 CPU"}),(0,r.jsx)(n.td,{children:"~5\u201310 FPS"}),(0,r.jsx)(n.td,{children:"\u4f4e"}),(0,r.jsx)(n.td,{children:"\u274c"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"JetPack GPU"}),(0,r.jsx)(n.td,{children:"~25\u201340 FPS"}),(0,r.jsx)(n.td,{children:"\u4e2d\u7b49"}),(0,r.jsx)(n.td,{children:"\u2705"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"\u4f18\u5316\u5efa\u8bae",children:"\u4f18\u5316\u5efa\u8bae"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u542f\u52a8 ",(0,r.jsx)(n.code,{children:"jetson_clocks"})," \u548c\u8bbe\u7f6e ",(0,r.jsx)(n.code,{children:"nvpmodel"})," \u4e3a\u6700\u5927\u6027\u80fd"]}),"\n",(0,r.jsx)(n.li,{children:"\u4f7f\u7528 OpenCV \u591a\u7ebf\u7a0b\u8bfb\u53d6\u6444\u50cf\u5934\u5e27"}),"\n",(0,r.jsx)(n.li,{children:"\u51cf\u5c0f\u56fe\u50cf\u5c3a\u5bf8\u4ee5\u63d0\u5347\u5e27\u7387\uff08\u5982 640x480\uff09"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"7-\u6545\u969c\u6392\u67e5",children:"7. \u6545\u969c\u6392\u67e5"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u95ee\u9898"}),(0,r.jsx)(n.th,{children:"\u5efa\u8bae"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"\u5bfc\u5165\u9519\u8bef"}),(0,r.jsxs)(n.td,{children:["\u786e\u4fdd ",(0,r.jsx)(n.code,{children:"mediapipe"})," \u5df2\u901a\u8fc7 pip \u5b89\u88c5"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"\u6444\u50cf\u5934\u65e0\u6cd5\u6253\u5f00"}),(0,r.jsxs)(n.td,{children:["\u4f7f\u7528 ",(0,r.jsx)(n.code,{children:"cv2.VideoCapture(0)"})," \u624b\u52a8\u6d4b\u8bd5\u6444\u50cf\u5934"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"\u4f4e FPS"}),(0,r.jsx)(n.td,{children:"\u542f\u7528 GPU\u3001\u964d\u4f4e\u56fe\u50cf\u5206\u8fa8\u7387\u3001\u5173\u95ed\u56fe\u50cf\u7ed8\u5236"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"\u65e0\u6cd5\u663e\u793a\u7a97\u53e3"}),(0,r.jsxs)(n.td,{children:["SSH \u4f7f\u7528\u9700\u52a0 ",(0,r.jsx)(n.code,{children:"export DISPLAY=:0"})," \u6216\u4f7f\u7528 VNC"]})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"8-\u9644\u5f55",children:"8. \u9644\u5f55"}),"\n",(0,r.jsx)(n.h3,{id:"\u53c2\u8003\u8d44\u6e90",children:"\u53c2\u8003\u8d44\u6e90"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/google/mediapipe",children:"MediaPipe GitHub"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/google-ai-edge/mediapipe-samples",children:"MediaPipe Samples"})}),"\n"]})]})}function o(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},66507:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/mediapipe-series-solutions-c06c20579e9664ba4afc5961e047fa44.gif"},52964:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/mediapipe_hand_0-5ddb92345b27ac365af9dec69096aec5.png"},16205:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/mediapipe_hand_1-ee7a7c08de6ed5faaf55d81c1e7237c0.png"},81132:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/mediapipe_pose_0-f1579209217a3fc9b11d7275f4375843.png"},50229:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/mediapipe_pose_1-3878ff7c2f7da7d4a2555267be20cde6.png"},28453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>t});var s=i(96540);const r={},d=s.createContext(r);function l(e){const n=s.useContext(d);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),s.createElement(d.Provider,{value:n},e.children)}}}]);